<template><div><h3 id="_01-矩阵" tabindex="-1"><a class="header-anchor" href="#_01-矩阵" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/01-matrix/" target="_blank" rel="noopener noreferrer">01 矩阵<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>矩阵值为 0 或 1，找出各 1 最近的 0</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<Tabs id="9" :data='[{"id":"联合 BFS"},{"id":"分部 DP"}]'>
<template #title0="{ value, isActive }">联合 BFS</template>
<template #title1="{ value, isActive }">分部 DP</template>
<template #tab0="{ value, isActive }">
<p>以所有 0 为整体向外 BFS。即首先将所有 0 入队，再常规 BFS</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #DCDCAA">updateMatrix</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">mat</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">dr</span><span style="color: #D4D4D4"> = { </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> };</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">dc</span><span style="color: #D4D4D4"> = { -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> };</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">m</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">mat</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">, n = mat[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">].</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">dist</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[m][n];</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">visited</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4">[m][n];</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">Queue</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[]&gt; </span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">LinkedList</span><span style="color: #D4D4D4">&lt;&gt;();</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #6A9955">// add all zero</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; m; ++i)</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">j</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; j &lt; n; ++j)</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (mat[i][j] == </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">					</span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">offer</span><span style="color: #D4D4D4">(</span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] { i, j });</span></span>
<span class="line"><span style="color: #D4D4D4">					visited[i][j] = </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">				}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #6A9955">// bfs</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (!</span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">isEmpty</span><span style="color: #D4D4D4">()) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">cur</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">poll</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">k</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; k &lt; </span><span style="color: #B5CEA8">4</span><span style="color: #D4D4D4">; ++k) {</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">row</span><span style="color: #D4D4D4"> = cur[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">] + dr[k];</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">col</span><span style="color: #D4D4D4"> = cur[</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">] + dc[k];</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (row &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> &amp;&amp; row &lt; m &amp;&amp; col &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> &amp;&amp; col &lt; n &amp;&amp; !visited[row][col]) {</span></span>
<span class="line"><span style="color: #D4D4D4">					dist[row][col] = dist[cur[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">]][cur[</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">]] + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">					visited[row][col] = </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">					</span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">offer</span><span style="color: #D4D4D4">(</span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] { row, col });</span></span>
<span class="line"><span style="color: #D4D4D4">				}</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> dist;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></template>
<template #tab1="{ value, isActive }">
<p>从某个 0 开始分别往左上和右下 DP</p>
<p>设 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(i,j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span> 为该格子到最近 0 的距离，则：</p>
<p>往左上：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mi>min</mi><mo>⁡</mo><mo stretchy="false">{</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext> </mtext><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">}</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">f(i, j)=\min \{f(i+1, j),\ f(i, j+1)\}+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">min</span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)}</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p>
<p>往右下：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mi>min</mi><mo>⁡</mo><mo stretchy="false">{</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext> </mtext><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">}</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">f(i, j)=\min \{f(i-1, j),\ f(i, j-1)\}+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">min</span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)}</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p>
<p>具体实现时，由于左上和右下方向都是遍历整个矩阵，所以可以覆盖掉左下和右上方向距离的搜索</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #DCDCAA">updateMatrix</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">mat</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">m</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">mat</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">, n = mat[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">].</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">dist</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[m][n];</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; </span><span style="color: #9CDCFE">dist</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">; ++i)</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">Arrays</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">fill</span><span style="color: #D4D4D4">(dist[i], </span><span style="color: #9CDCFE">Integer</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">MAX_VALUE</span><span style="color: #D4D4D4"> &gt;&gt; </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #6A9955">// all zero</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; m; ++i)</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">j</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; j &lt; n; ++j)</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (mat[i][j] == </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">					dist[i][j] = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #6A9955">// right down</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; m; ++i)</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">j</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; j &lt; n; ++j) {</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (i - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">					dist[i][j] = </span><span style="color: #9CDCFE">Math</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">min</span><span style="color: #D4D4D4">(dist[i][j], dist[i - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">][j] + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (j - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">					dist[i][j] = </span><span style="color: #9CDCFE">Math</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">min</span><span style="color: #D4D4D4">(dist[i][j], dist[i][j - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">] + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #6A9955">// left up</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = m - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; i &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; --i)</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">j</span><span style="color: #D4D4D4"> = n - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; j &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; --j) {</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (i + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> &lt; m)</span></span>
<span class="line"><span style="color: #D4D4D4">					dist[i][j] = </span><span style="color: #9CDCFE">Math</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">min</span><span style="color: #D4D4D4">(dist[i][j], dist[i + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">][j] + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (j + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> &lt; n)</span></span>
<span class="line"><span style="color: #D4D4D4">					dist[i][j] = </span><span style="color: #9CDCFE">Math</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">min</span><span style="color: #D4D4D4">(dist[i][j], dist[i][j + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">] + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> dist;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></template>
</Tabs>
</details>
<h3 id="打开转盘锁" tabindex="-1"><a class="header-anchor" href="#打开转盘锁" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/open-the-lock/" target="_blank" rel="noopener noreferrer">打开转盘锁<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>四位转盘锁初始为<code v-pre>0000</code>，每个转盘可转转为<code v-pre>0 ~ 9</code>（<code v-pre>0</code>与<code v-pre>9</code>相邻），但每次只能转一个转盘的相邻数字</p>
<p>另外给定若干转盘数位组合，在转至正确组合过程中不可遇到，问在此限制下解开锁的最少转动次数（无法解开则次数为-1）</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<p>不可简单地通过判断各位是否从两种方向转至正确位数是否都被限制来直接断定，因为某些位被限制的同时只需要至少其他一位不同即可绕过</p>
<p>故还是得通过搜索来判断，因为求最少转动次数，故用 BFS。对于每种组合，不同转动结果有 8 种，过程类似于图搜索，将搜索过的组合缓存标记（可以直接并在给定的限制组合集中）</p>
<p>值得一提的是在实现时，需要判断若<code v-pre>0000</code>本身就在限制组合中，则直接返回，否则需要将所有组合都搜一遍，达到极端最坏情况</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">openLock</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">deadends</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">target</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">Set</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4">&gt; </span><span style="color: #9CDCFE">set</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HashSet</span><span style="color: #D4D4D4">&lt;&gt;();</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> deadends)</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">set</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(s);</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">count</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">Queue</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4">&gt; </span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">LinkedList</span><span style="color: #D4D4D4">&lt;&gt;();</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (!</span><span style="color: #9CDCFE">set</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">contains</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&quot;0000&quot;</span><span style="color: #D4D4D4">))</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">offer</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&quot;0000&quot;</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (!</span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">isEmpty</span><span style="color: #D4D4D4">()) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">size</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">size</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (size-- &gt; </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">cur</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">poll</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">target</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">equals</span><span style="color: #D4D4D4">(cur))</span></span>
<span class="line"><span style="color: #D4D4D4">					</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> count;</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (!</span><span style="color: #9CDCFE">set</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">contains</span><span style="color: #D4D4D4">(cur)) {</span></span>
<span class="line"><span style="color: #D4D4D4">					</span><span style="color: #9CDCFE">set</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(cur);</span></span>
<span class="line"><span style="color: #D4D4D4">					</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">changeOne</span><span style="color: #D4D4D4">(cur))</span></span>
<span class="line"><span style="color: #D4D4D4">						</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (!</span><span style="color: #9CDCFE">set</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">contains</span><span style="color: #D4D4D4">(s))</span></span>
<span class="line"><span style="color: #D4D4D4">							</span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(s);</span></span>
<span class="line"><span style="color: #D4D4D4">				}</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">			++count;</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">ArrayList</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4">&gt; </span><span style="color: #DCDCAA">changeOne</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">src</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">ArrayList</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4">&gt; </span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">ArrayList</span><span style="color: #D4D4D4">&lt;&gt;();</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">char</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">data</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">src</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">toCharArray</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; </span><span style="color: #B5CEA8">4</span><span style="color: #D4D4D4">; ++i) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">cur</span><span style="color: #D4D4D4"> = data[i] - </span><span style="color: #CE9178">&#39;0&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			data[i] = (</span><span style="color: #4EC9B0">char</span><span style="color: #D4D4D4">) (</span><span style="color: #CE9178">&#39;0&#39;</span><span style="color: #D4D4D4"> + ((cur + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">) % </span><span style="color: #B5CEA8">10</span><span style="color: #D4D4D4">));</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">String</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">valueOf</span><span style="color: #D4D4D4">(data));</span></span>
<span class="line"><span style="color: #D4D4D4">			data[i] = (</span><span style="color: #4EC9B0">char</span><span style="color: #D4D4D4">) (</span><span style="color: #CE9178">&#39;0&#39;</span><span style="color: #D4D4D4"> + ((cur + </span><span style="color: #B5CEA8">9</span><span style="color: #D4D4D4">) % </span><span style="color: #B5CEA8">10</span><span style="color: #D4D4D4">));</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">String</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">valueOf</span><span style="color: #D4D4D4">(data));</span></span>
<span class="line"><span style="color: #D4D4D4">			data[i] = (</span><span style="color: #4EC9B0">char</span><span style="color: #D4D4D4">) (</span><span style="color: #CE9178">&#39;0&#39;</span><span style="color: #D4D4D4"> + cur);</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> res;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="太平洋大西洋水流问题" tabindex="-1"><a class="header-anchor" href="#太平洋大西洋水流问题" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/pacific-atlantic-water-flow/" target="_blank" rel="noopener noreferrer">太平洋大西洋水流问题<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>设矩阵左和上边界为太平洋，右和下边界为大西洋，矩阵元素表示海拔，其位置上的水可向四周等高或更低位置流，求所有能使水流向两个大洋的位置</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<p>若从各位置往边界搜固然可达，但在回溯过程中途径的位置复用性极差，故应从边界的各位置开始往高的地势搜同时记录位置向该大洋的可达性，最后遍历各位置收集可达两洋的位置</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">dirs</span><span style="color: #D4D4D4"> = { { -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> }, { </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> }, { </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> }, { </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> } };</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">heights</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">m</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">n</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">paci</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">atla</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">List</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">List</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">Integer</span><span style="color: #D4D4D4">&gt;&gt; </span><span style="color: #DCDCAA">pacificAtlantic</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">heights</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">heights</span><span style="color: #D4D4D4"> = heights;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">m</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">heights</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">n</span><span style="color: #D4D4D4"> = heights[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">].</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">paci</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4">[m][n];</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">atla</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4">[m][n];</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">List</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">List</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">Integer</span><span style="color: #D4D4D4">&gt;&gt; </span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">ArrayList</span><span style="color: #D4D4D4">&lt;&gt;();</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; m; ++i) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #DCDCAA">dfs</span><span style="color: #D4D4D4">(i, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, paci);</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #DCDCAA">dfs</span><span style="color: #D4D4D4">(i, n - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, atla);</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; n; ++i) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #DCDCAA">dfs</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, i, paci);</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #DCDCAA">dfs</span><span style="color: #D4D4D4">(m - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, i, atla);</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; m; ++i)</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">j</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; j &lt; n; ++j)</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (paci[i][j] &amp;&amp; atla[i][j])</span></span>
<span class="line"><span style="color: #D4D4D4">					</span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">Arrays</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">asList</span><span style="color: #D4D4D4">(i, j));</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> res;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">dfs</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">row</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">col</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">ocean</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		ocean[row][col] = </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">d</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> dirs) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">r</span><span style="color: #D4D4D4"> = row + d[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">];</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">c</span><span style="color: #D4D4D4"> = col + d[</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">];</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (r &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> &amp;&amp; r &lt; m &amp;&amp; c &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> &amp;&amp; c &lt; n &amp;&amp; heights[r][c] &gt;= heights[row][col] &amp;&amp; !ocean[r][c])</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #DCDCAA">dfs</span><span style="color: #D4D4D4">(r, c, ocean);</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="二进制矩阵中的最短路径" tabindex="-1"><a class="header-anchor" href="#二进制矩阵中的最短路径" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/shortest-path-in-binary-matrix/" target="_blank" rel="noopener noreferrer">二进制矩阵中的最短路径<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>求总左上角沿全 0 路径到右下角的最短路径长度（可以斜着走）</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<p>求最短路径用 BFS</p>
<p>搜索时用另一矩阵记录当前位置是否被访问过。之所以 BFS 也能像 DFS 回溯那般用矩阵记录，是因为若即将遍历的位置已经被访问过，则说明存在不长于当前路径的另一更优路径，当前路径再经过已经访问过的位置也无意义</p>
<p>值得注意的是实现时需确保位置入队同时标记为已访问，不可在出队寻找相邻下一位置时再标记，因为即使同一批入队，因为相邻位置的相邻位置可以是同一个，很可能会造成同一位置重复入队情况</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">shortestPathBinaryMatrix</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">grid</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (grid[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">] == </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">n</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">grid</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (n == </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">visited</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4">[n][n];</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">dirs</span><span style="color: #D4D4D4"> = { { -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> }, { -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> }, { -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> }, { </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> }, { </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> }, { </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> }, { </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> }, { </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> },</span></span>
<span class="line"><span style="color: #D4D4D4">					{ </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> } };</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">Queue</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[]&gt; </span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">LinkedList</span><span style="color: #D4D4D4">&lt;&gt;();</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">offer</span><span style="color: #D4D4D4">(</span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] { </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> });</span></span>
<span class="line"><span style="color: #D4D4D4">			visited[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">][</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">] = </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (!</span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">isEmpty</span><span style="color: #D4D4D4">()) {</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">size</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">size</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (size-- &gt; </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">					</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">cur</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">poll</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">					</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">d</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> dirs) {</span></span>
<span class="line"><span style="color: #D4D4D4">						</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">r</span><span style="color: #D4D4D4"> = cur[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">] + d[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">];</span></span>
<span class="line"><span style="color: #D4D4D4">						</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">c</span><span style="color: #D4D4D4"> = cur[</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">] + d[</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">];</span></span>
<span class="line"><span style="color: #D4D4D4">						</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (r &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> &amp;&amp; r &lt; n &amp;&amp; c &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> &amp;&amp; c &lt; n &amp;&amp; grid[r][c] == </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> &amp;&amp; !visited[r][c]) {</span></span>
<span class="line"><span style="color: #D4D4D4">							</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (r == n - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> &amp;&amp; c == n - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">								</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> res + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">							visited[r][c] = </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">							</span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">offer</span><span style="color: #D4D4D4">(</span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] { r, c });</span></span>
<span class="line"><span style="color: #D4D4D4">						}</span></span>
<span class="line"><span style="color: #D4D4D4">					}</span></span>
<span class="line"><span style="color: #D4D4D4">				}</span></span>
<span class="line"><span style="color: #D4D4D4">				++res;</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="判断二分图" tabindex="-1"><a class="header-anchor" href="#判断二分图" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/is-graph-bipartite/" target="_blank" rel="noopener noreferrer">判断二分图<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>给定无向图和连接情况数组（二维数组<code v-pre>graph[u]</code>中为邻接的不同节点），但不保证图连通（可能存在节点之间无连通路径的情况），判断该图是否为二分图</p>
<p>二分图：所有节点分为两个独立集合，每条边连接的俩节点都属于不同集合</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<Tabs id="105" :data='[{"id":"DFS"},{"id":"BFS"}]'>
<template #title0="{ value, isActive }">DFS</template>
<template #title1="{ value, isActive }">BFS</template>
<template #tab0="{ value, isActive }">
<p>按照相邻节点颜色不同的限制对节点染色，若能成功染色所有节点则是二分图</p>
<p>此为 DFS 实现，注意剪枝。而且由于图可能不连通，所以主要函数中得确保所有节点都有机会进行染色</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">graph</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">part</span><span style="color: #D4D4D4">; </span><span style="color: #6A9955">// 0, 1, 2</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">valid</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">isBipartite</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">graph</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">graph</span><span style="color: #D4D4D4"> = graph;</span></span>
<span class="line"><span style="color: #D4D4D4">		part = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[</span><span style="color: #9CDCFE">graph</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">];</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; </span><span style="color: #9CDCFE">graph</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">; ++i)</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (part[i] == </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">				part[i] = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #DCDCAA">dfs</span><span style="color: #D4D4D4">(i);</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> valid;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">dfs</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">cur</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">n</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> graph[cur]) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (part[n] == part[cur]) {</span></span>
<span class="line"><span style="color: #D4D4D4">				valid = </span><span style="color: #569CD6">false</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			} </span><span style="color: #C586C0">else</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (part[n] == </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">				part[n] = part[cur] == </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">?</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #DCDCAA">dfs</span><span style="color: #D4D4D4">(n);</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (!valid) </span><span style="color: #6A9955">// 剪枝</span></span>
<span class="line"><span style="color: #D4D4D4">					</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			} </span><span style="color: #6A9955">// 颜色正好不同则正好不管</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></template>
<template #tab1="{ value, isActive }">
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">isBipartite</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">graph</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">part</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[</span><span style="color: #9CDCFE">graph</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">];</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">Queue</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">Integer</span><span style="color: #D4D4D4">&gt; </span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">LinkedList</span><span style="color: #D4D4D4">&lt;&gt;();</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; </span><span style="color: #9CDCFE">graph</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">; ++i)</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (part[i] == </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">				part[i] = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">offer</span><span style="color: #D4D4D4">(i);</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (!</span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">isEmpty</span><span style="color: #D4D4D4">()) {</span></span>
<span class="line"><span style="color: #D4D4D4">					</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">cur</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">poll</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">					</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">n</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> graph[cur])</span></span>
<span class="line"><span style="color: #D4D4D4">						</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (part[n] == part[cur])</span></span>
<span class="line"><span style="color: #D4D4D4">							</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">false</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">						</span><span style="color: #C586C0">else</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (part[n] == </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">							part[n] = part[cur] == </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">?</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">							</span><span style="color: #9CDCFE">que</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">offer</span><span style="color: #D4D4D4">(n);</span></span>
<span class="line"><span style="color: #D4D4D4">						}</span></span>
<span class="line"><span style="color: #D4D4D4">				}</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></template>
</Tabs>
</details>
<!-- -------------------------- -->
</div></template>


