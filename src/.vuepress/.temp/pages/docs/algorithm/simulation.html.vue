<template><div><h3 id="对角线遍历" tabindex="-1"><a class="header-anchor" href="#对角线遍历" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/diagonal-traverse/" target="_blank" rel="noopener noreferrer">对角线遍历<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>按对角线遍历矩阵，如：</p>
<p>input: <code v-pre>mat = [[1,2,3],[4,5,6],[7,8,9]]</code></p>
<p>output: <code v-pre>[1,2,4,7,5,3,6,8,9]</code></p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<p>先假设每条斜线都从右上至左下遍历，再依据奇偶按需逆序</p>
<p>可进一步实时遍历判断方向与斜线收尾的方法，未记录</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #DCDCAA">findDiagonalOrder</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">mat</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">ArrayList</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">Integer</span><span style="color: #D4D4D4">&gt; </span><span style="color: #9CDCFE">temp</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">ArrayList</span><span style="color: #D4D4D4">&lt;&gt;();</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">m</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">mat</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">, n = mat[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">].</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[m * n];</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">cnt</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">k</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; k &lt; m + n - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; ++k) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">temp</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">clear</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">r</span><span style="color: #D4D4D4"> = k &lt; n </span><span style="color: #C586C0">?</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> k - n + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">c</span><span style="color: #D4D4D4"> = k &lt; n </span><span style="color: #C586C0">?</span><span style="color: #D4D4D4"> k </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> n - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (r &lt; m &amp;&amp; c &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #9CDCFE">temp</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(mat[r++][c--]);</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (k % </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4"> == </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #9CDCFE">Collections</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">reverse</span><span style="color: #D4D4D4">(temp);</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">num</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> temp)</span></span>
<span class="line"><span style="color: #D4D4D4">				res[cnt++] = num;</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> res;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="最长回文子串" tabindex="-1"><a class="header-anchor" href="#最长回文子串" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/longest-palindromic-substring/" target="_blank" rel="noopener noreferrer">最长回文子串<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>找出给定字符串中最长的回文子串</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<p>枚举每个字符，在保持回文前提下，以其为中心向两端扩展，扩展期间维护最大回文串位置</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">longestPalindrome</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">start</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, end = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">(); ++i) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #6A9955">// 考虑初始回文串为 1 和 2 字符的边界情况</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">len</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">Math</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">max</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">expand</span><span style="color: #D4D4D4">(s, i, i), </span><span style="color: #DCDCAA">expand</span><span style="color: #D4D4D4">(s, i, i + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">));</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (len &gt; end - start) {</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #6A9955">// 当回文串由 2 字符拓展而来时，i-len/2 会导致左边界多减一</span></span>
<span class="line"><span style="color: #D4D4D4">				start = i - (len - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">) / </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">				end = i + len / </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">substring</span><span style="color: #D4D4D4">(start, end + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">expand</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">left</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">right</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (left &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> &amp;&amp; right &lt; </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">() &amp;&amp; </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">charAt</span><span style="color: #D4D4D4">(left) == </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">charAt</span><span style="color: #D4D4D4">(right)) {</span></span>
<span class="line"><span style="color: #D4D4D4">			--left;</span></span>
<span class="line"><span style="color: #D4D4D4">			++right;</span></span>
<span class="line"><span style="color: #D4D4D4">		} </span><span style="color: #6A9955">// 此时的俩边界为多拓展了一次的，故返回时将长度 -2</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> right - left - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="两数之和-ii-输入有序数组" tabindex="-1"><a class="header-anchor" href="#两数之和-ii-输入有序数组" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/" target="_blank" rel="noopener noreferrer">两数之和 II - 输入有序数组<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>找出非递减数组中和为给定值的两个数的下标</p>
<p>要求空间复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<p>因为数组有序，故可以用双指针由两端逐渐逼近</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #DCDCAA">twoSum</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">numbers</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">target</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">left</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, right = </span><span style="color: #9CDCFE">numbers</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (left &lt; right) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">sum</span><span style="color: #D4D4D4"> = numbers[left] + numbers[right];</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (sum &lt; target)</span></span>
<span class="line"><span style="color: #D4D4D4">				++left;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">else</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (sum &gt; target)</span></span>
<span class="line"><span style="color: #D4D4D4">				--right;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">else</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] { left + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, right + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> };</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] { -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> };</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="翻转单词顺序" tabindex="-1"><a class="header-anchor" href="#翻转单词顺序" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/fan-zhuan-dan-ci-shun-xu-lcof/" target="_blank" rel="noopener noreferrer">翻转单词顺序<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>将给定英文句子字符串的单词逆序（需除掉一切多余空格），如：</p>
<p>input: <code v-pre>&quot;  hello  world!  &quot;</code></p>
<p>output: <code v-pre>&quot;world! hello&quot;</code></p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<CodeTabs id="69" :data='[{"id":"模拟"},{"id":"API"},{"id":"copy"}]'>
<template #title0="{ value, isActive }">模拟</template>
<template #title1="{ value, isActive }">API</template>
<template #title2="{ value, isActive }">copy</template>
<template #tab0="{ value, isActive }">
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">// 先反转各词，再整体翻转</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">reverseWords</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (s == </span><span style="color: #569CD6">null</span><span style="color: #D4D4D4"> || </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">() == </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&quot;&quot;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">StringBuilder</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">total</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">StringBuilder</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">StringBuilder</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">temp</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">StringBuilder</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">front</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">cur</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; cur &lt; </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">(); cur = front + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (cur &lt; </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">() &amp;&amp; </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">charAt</span><span style="color: #D4D4D4">(cur) == </span><span style="color: #CE9178">&#39; &#39;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">				++cur;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (cur == </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">())</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">break</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			front = cur + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (front &lt; </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">() &amp;&amp; </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">charAt</span><span style="color: #D4D4D4">(front) != </span><span style="color: #CE9178">&#39; &#39;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">				++front;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">temp</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">delete</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">temp</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">());</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">temp</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">append</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">substring</span><span style="color: #D4D4D4">(cur, front));</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">temp</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">reverse</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">total</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">append</span><span style="color: #D4D4D4">(temp + </span><span style="color: #CE9178">&quot; &quot;</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">total</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">() &gt; </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">total</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">deleteCharAt</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">total</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">() - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">total</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">reverse</span><span style="color: #D4D4D4">().</span><span style="color: #DCDCAA">toString</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></template>
<template #tab1="{ value, isActive }">
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">reverseWords</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #6A9955">// 除掉首尾空格后正则匹配连续的空白字符作为分隔符分割</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">List</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4">&gt; </span><span style="color: #9CDCFE">wordList</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">Arrays</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">asList</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">trim</span><span style="color: #D4D4D4">().</span><span style="color: #DCDCAA">split</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&quot;</span><span style="color: #D7BA7D">\\</span><span style="color: #CE9178">s+&quot;</span><span style="color: #D4D4D4">));</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">Collections</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">reverse</span><span style="color: #D4D4D4">(wordList);</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">String</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">join</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&quot; &quot;</span><span style="color: #D4D4D4">, wordList);</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></template>
<template #tab2="{ value, isActive }">
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">// 逆序拷贝各单词，期间除掉多余空格</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">reverseWords</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		s = </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">trim</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">StringBuilder</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">sb</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">StringBuilder</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">());</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">left</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">() - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, right = left; left &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; right = left) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (left &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> &amp;&amp; </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">charAt</span><span style="color: #D4D4D4">(left) != </span><span style="color: #CE9178">&#39; &#39;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">				--left;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">sb</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">append</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">substring</span><span style="color: #D4D4D4">(left + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, right + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">) + </span><span style="color: #CE9178">&quot; &quot;</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (left &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> &amp;&amp; </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">charAt</span><span style="color: #D4D4D4">(left) == </span><span style="color: #CE9178">&#39; &#39;</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">				--left;</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">sb</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">toString</span><span style="color: #D4D4D4">().</span><span style="color: #DCDCAA">trim</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></template>
</CodeTabs>
</details>
<h3 id="求众数-ii" tabindex="-1"><a class="header-anchor" href="#求众数-ii" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/majority-element-ii/" target="_blank" rel="noopener noreferrer">求众数 II<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>求非空数组中所有出现次数大于数组长度三分之一的元素</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<p>此类求多数元素的问题考虑用摩尔投票法，其实质就是不同元素对拼消耗，最后多数元素肯定会相应剩下。</p>
<p>例如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 个元素中求出现次数大于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>÷</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">N\div k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">÷</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 的元素，故先拟定 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 个可能存在的候选多数元素【符合条件的最多只可能有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 个】，每次取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 个不同元素进行抵消，最后若有剩下的候选元素，则对每种进行计数核查是否符合要求。</p>
<p>具体实现是设若干候选变量及其相应计数变量，在遍历数组的每个元素时，若当前元素与某个剩余的变量相同（且相应计数非零），则将其计数加一；若与各候选变量都不同，则伺机选取坑位占据，以备接下来的一组抵消，若此时发现无坑位，则说明已凑够一组不同元素，立即进行抵消。遍历完之后若有剩余候选变量，再到原数组中统计其次数是否达标，最终确认答案</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">List</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">Integer</span><span style="color: #D4D4D4">&gt; </span><span style="color: #DCDCAA">majorityElement</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">r1</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, c1 = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, r2 = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, c2 = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">num</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> nums) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (c1 &gt; </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> &amp;&amp; num == r1)</span></span>
<span class="line"><span style="color: #D4D4D4">				++c1;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">else</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (c2 &gt; </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> &amp;&amp; num == r2)</span></span>
<span class="line"><span style="color: #D4D4D4">				++c2;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">else</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (c1 == </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">				r1 = num;</span></span>
<span class="line"><span style="color: #D4D4D4">				++c1;</span></span>
<span class="line"><span style="color: #D4D4D4">			} </span><span style="color: #C586C0">else</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (c2 == </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">				r2 = num;</span></span>
<span class="line"><span style="color: #D4D4D4">				++c2;</span></span>
<span class="line"><span style="color: #D4D4D4">			} </span><span style="color: #C586C0">else</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">				--c1;</span></span>
<span class="line"><span style="color: #D4D4D4">				--c2;</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">List</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">Integer</span><span style="color: #D4D4D4">&gt; </span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">ArrayList</span><span style="color: #D4D4D4">&lt;&gt;();</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (c1 &gt; </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> || c2 &gt; </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">n1</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, n2 = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">num</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> nums) {</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (num == r1)</span></span>
<span class="line"><span style="color: #D4D4D4">					++n1;</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">else</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (num == r2)</span></span>
<span class="line"><span style="color: #D4D4D4">					++n2;</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (n1 &gt; </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> / </span><span style="color: #B5CEA8">3</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(r1);</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (n2 &gt; </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> / </span><span style="color: #B5CEA8">3</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(r2);</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> res;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="根据身高重建队列" tabindex="-1"><a class="header-anchor" href="#根据身高重建队列" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/queue-reconstruction-by-height/" target="_blank" rel="noopener noreferrer">根据身高重建队列<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>给定一群人的乱序的属性数组，其中各元素 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi>h</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>k</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[h_i, k_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span> 表示第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> 个人的身高为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">h_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 且前面恰有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">k_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 个人的身高不低于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">h_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ，将属性数组重建为有序的并返回</p>
<p>input: <code v-pre>[[7,0],[4,4],[7,1],[5,0],[6,1],[5,2]]</code></p>
<p>output: <code v-pre>[[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]]</code></p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<p>分为两个部分来考虑，以什么顺序从原数组中抽出来人，还有将抽出来的人怎么插入新建的队列中去。实际上新建的队列只需对各人的第二属性负责即可，那么显然如果将人从高到低逐渐插入新队列，就不会对已插入的人的第二属性产生影响，并且当前插入者的第二属性恰好就是插入新队列的索引位置，由此可得从原数组中抽人的第一顺序应当是其第一属性（身高），当身高相同时考虑第二属性，因为其表示的是前面有多少个的问题，所以只需稍加试验即可得应按照升序进行抽取</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #DCDCAA">reconstructQueue</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[][] </span><span style="color: #9CDCFE">people</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #9CDCFE">Arrays</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">sort</span><span style="color: #D4D4D4">(people, </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Comparator</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[]&gt;() {</span></span>
<span class="line"><span style="color: #D4D4D4">			@</span><span style="color: #4EC9B0">Override</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">compare</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">o1</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">o2</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> o1[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">] == o2[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">] </span><span style="color: #C586C0">?</span><span style="color: #D4D4D4"> o1[</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">] - o2[</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">] </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> o2[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">] - o1[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">];</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">		});</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">List</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[]&gt; </span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">LinkedList</span><span style="color: #D4D4D4">&lt;&gt;();</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">p</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> people)</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(p[</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">], p);</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">toArray</span><span style="color: #D4D4D4">(</span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[</span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">size</span><span style="color: #D4D4D4">()][]);</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="分发糖果" tabindex="-1"><a class="header-anchor" href="#分发糖果" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/candy/" target="_blank" rel="noopener noreferrer">分发糖果<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>若干人站成一排，给定代表各位评分的整数数组，依据评分给每人发糖果，要求每人至少发一个，并且相邻两人评分更高的分给更多糖果，求满足要求的最少糖果数</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<Tabs id="130" :data='[{"id":"模拟"},{"id":"优化"}]'>
<template #title0="{ value, isActive }">模拟</template>
<template #title1="{ value, isActive }">优化</template>
<template #tab0="{ value, isActive }">
<p>实际上“相邻两人评分更高的分给更多糖果”可以拆分为两个不同方向遍历时的单侧规则：若当前的评分高于上一个，则当前的糖果数比上一个的多一个，否则当前只给一个糖果（合理利用规则减少糖果数）。所以只需进行两次反向遍历，得到每人在两次遍历时最少需分得的糖果数，取其更大者即可</p>
<p>具体实现时，第一次遍历的糖果数需要数组暂存，但第二次只需要用单个变量进行记录当前位置的糖果数并同时计算答案即可</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">candy</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">ratings</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">left</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[</span><span style="color: #9CDCFE">ratings</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">];</span></span>
<span class="line"><span style="color: #D4D4D4">		left[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">] = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; i &lt; </span><span style="color: #9CDCFE">ratings</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">; ++i) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (ratings[i - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">] &lt; ratings[i])</span></span>
<span class="line"><span style="color: #D4D4D4">				left[i] = left[i - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">] + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">else</span></span>
<span class="line"><span style="color: #D4D4D4">				left[i] = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4"> = left[</span><span style="color: #9CDCFE">ratings</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">];</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">ratings</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> - </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">, right = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; i &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; --i) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (ratings[i] &gt; ratings[i + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">])</span></span>
<span class="line"><span style="color: #D4D4D4">				++right;</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">else</span></span>
<span class="line"><span style="color: #D4D4D4">				right = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			res += </span><span style="color: #9CDCFE">Math</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">max</span><span style="color: #D4D4D4">(left[i], right);</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> res;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></template>
<template #tab1="{ value, isActive }">
<p>从左到右遍历，记前一个分得的糖果数量为<code v-pre>pre</code>，当前递减序列的长度为<code v-pre>down</code>、最近的递增序列的长度为<code v-pre>up</code>，进行判断：若当前比上一个评分高，说明正在最近的递增序列中，直接分配给该同学<code v-pre>pre + 1</code>个糖果即可；否则视作在一个递减序列中，直接分配给当前一个糖果，并为其所在的递减序列中所有人再多分配一个糖果，以保证糖果数量还是满足条件。实际上并不需要显式地额外分配糖果，因为需要额外分配的糖果数量即为<code v-pre>down</code>；同时需要注意当<code v-pre>down == up</code>时，需要把最近的递增序列的最后一个同学也并进递减序列中，因为其糖果数得同时满足两侧需求（参照解法一）</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">candy</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">ratings</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">total</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, up = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, down = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, pre = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; i &lt; </span><span style="color: #9CDCFE">ratings</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">; ++i) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (ratings[i - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">] &lt;= ratings[i]) {</span></span>
<span class="line"><span style="color: #D4D4D4">				down = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">				pre = ratings[i - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">] == ratings[i] </span><span style="color: #C586C0">?</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> pre + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">				total += pre;</span></span>
<span class="line"><span style="color: #D4D4D4">				up = pre;</span></span>
<span class="line"><span style="color: #D4D4D4">			} </span><span style="color: #C586C0">else</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">				++down;</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (down == up)</span></span>
<span class="line"><span style="color: #D4D4D4">					++down;</span></span>
<span class="line"><span style="color: #D4D4D4">				total += down;</span></span>
<span class="line"><span style="color: #D4D4D4">				pre = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> total;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></template>
</Tabs>
</details>
<h3 id="非递减数列" tabindex="-1"><a class="header-anchor" href="#非递减数列" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/non-decreasing-array/" target="_blank" rel="noopener noreferrer">非递减数列<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>判断给定数组是否能在最多改变一个元素条件下成为非递减的</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<p>能变成非递减数组的话，原数组最多只能有一次递减发生。考虑发生递减的连续的三个元素<code v-pre>a, b, c</code>，其中<code v-pre>a &lt;= b</code>且<code v-pre>b &gt; c</code>，实际上只有两种情况：</p>
<ul>
<li><code v-pre>a &lt;= c</code>：既可将<code v-pre>b</code>降至<code v-pre>c</code>，也可将<code v-pre>c</code>升至<code v-pre>b</code>。但应尽可能使紧接着<code v-pre>c</code>的元素满足非递减，所以应将<code v-pre>b</code>降至<code v-pre>c</code></li>
<li><code v-pre>a &gt; c</code>: 只有将<code v-pre>c</code>升至<code v-pre>a</code>一种方式</li>
</ul>
<p>在遍历检查时记录是否已有一次递减发生，若已发生则直接返回。基于此可知，在检测到可能存在的第二次递减时，一定用不到第一次递减的<code v-pre>b</code>元素，故上述第一种情况下无需实际地改变<code v-pre>b</code>的值</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">checkPossibility</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> == </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">one</span><span style="color: #D4D4D4"> = nums[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">] &gt; nums[</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">];</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; i &lt; </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; ++i) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (nums[i] &gt; nums[i + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">]) {</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (one)</span></span>
<span class="line"><span style="color: #D4D4D4">					</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">false</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">				one = </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">				</span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (nums[i - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">] &gt; nums[i + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">])</span></span>
<span class="line"><span style="color: #D4D4D4">					nums[i + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">] = nums[i];</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="回文子串" tabindex="-1"><a class="header-anchor" href="#回文子串" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/palindromic-substrings/" target="_blank" rel="noopener noreferrer">回文子串<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>求给定字符串所有回文子串的数量</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<p>枚举所有可能的回文子串中心，将各中心向两侧尽可能延伸，以此枚举所有回文子串，时间复杂度比直接枚举子串两端再判断是否回文要低。</p>
<p>回文子串的中心有单字符和双字符两种，需要分开讨论扩展。枚举所有中心时有个小技巧：对于每个字符作为中心左端，中心右端要么是其本身，要么是右侧的下一个字符，故索引呈现强烈的奇偶规律性，可以将中心的左右端点并在一个循环中进行枚举，归纳可得共需枚举<code v-pre>2*n-1</code>次，左端点为<code v-pre>i/2</code>再取整，右端点为<code v-pre>i/2 + i%2</code></p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">	</span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">countSubstrings</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">String</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; i &lt; </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4"> * </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">() - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; ++i) {</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">l</span><span style="color: #D4D4D4"> = i &gt;&gt; </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, r = (i &gt;&gt; </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">) + (i &amp; </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">			</span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (l &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> &amp;&amp; r &lt; </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">length</span><span style="color: #D4D4D4">() &amp;&amp; </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">charAt</span><span style="color: #D4D4D4">(l) == </span><span style="color: #9CDCFE">s</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">charAt</span><span style="color: #D4D4D4">(r)) {</span></span>
<span class="line"><span style="color: #D4D4D4">				--l;</span></span>
<span class="line"><span style="color: #D4D4D4">				++r;</span></span>
<span class="line"><span style="color: #D4D4D4">				++res;</span></span>
<span class="line"><span style="color: #D4D4D4">			}</span></span>
<span class="line"><span style="color: #D4D4D4">		}</span></span>
<span class="line"><span style="color: #D4D4D4">		</span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> res;</span></span>
<span class="line"><span style="color: #D4D4D4">	}</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="找出游戏的获胜者" tabindex="-1"><a class="header-anchor" href="#找出游戏的获胜者" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/find-the-winner-of-the-circular-game/" target="_blank" rel="noopener noreferrer">找出游戏的获胜者<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p><code v-pre>n</code>个人围成一圈，顺时针编号<code v-pre>1 ~ n</code>，从 1 号开始（含 1 号）往后数第<code v-pre>k</code>个淘汰，再从淘汰位置的下一个开始数，求如此淘汰到只剩最后一人的编号</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<Tabs id="203" :data='[{"id":"模拟"},{"id":"约瑟夫环"}]'>
<template #title0="{ value, isActive }">模拟</template>
<template #title1="{ value, isActive }">约瑟夫环</template>
<template #tab0="{ value, isActive }">
<p>实际用数组模拟出每次的淘汰直至获得最后一人的编号。考虑到需常从数组中间删除元素，数组采用<code v-pre>LinkedList</code>实现</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">findTheWinner</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">n</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">k</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">LinkedList</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">Integer</span><span style="color: #D4D4D4">&gt; </span><span style="color: #9CDCFE">people</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">LinkedList</span><span style="color: #D4D4D4">&lt;&gt;();</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; i &lt;= n; ++i)</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">people</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(i);</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">idx</span><span style="color: #D4D4D4"> = (k - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">) % n; n &gt; </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; idx = (idx + k - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">) % --n)</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">people</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">remove</span><span style="color: #D4D4D4">(idx);</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">people</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">get</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></template>
<template #tab1="{ value, isActive }">
<p>典型的约瑟夫环问题，令<code v-pre>f(n, k)</code>表示<code v-pre>n</code>个人每次数第<code v-pre>k</code>个淘汰最终剩下的编号，在编号从 0 开始时，有递推关系<code v-pre>f(n, k) = [f(n-1, k) + k] % n</code>，且<code v-pre>f(1, k) = 0</code>。<a href="https://leetcode.cn/problems/find-the-winner-of-the-circular-game/solution/by-fuxuemingzhu-laof/" target="_blank" rel="noopener noreferrer">【详细解释】<ExternalLinkIcon/></a></p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">findTheWinner</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">n</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">k</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">; i &lt;= n; ++i)</span></span>
<span class="line"><span style="color: #D4D4D4">            res = (res + k) % i;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> res + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></template>
</Tabs>
</details>
<h3 id="盛最多水的容器" tabindex="-1"><a class="header-anchor" href="#盛最多水的容器" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/container-with-most-water/" target="_blank" rel="noopener noreferrer">盛最多水的容器<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>给定表示每个位置高度的整型数组，仅可选其中两条线与地面构成容器，求存储水的最大量</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<p>用双指针从两端相向逼近并维护最大储水量。指针如何移动？因为指针是相向移动的，故每次移动横向距离减小，而储水量的高取决于二者高度的较小值，故移动较高的指针必不可能获得更大的储水量，移动高度低的指针才有可能。</p>
<p>当二者一样高时可以同时移动两个指针，因为若只移动一个的话，不管新位置高度如何，横向距离变小且最小高度不会变大，储水量必变小。更进一步，移动的那个指针即使一直移到紧挨另一个，也不可能会获得更大的储水量，必须一个移动后另一个也移动才可能，故合并为两指针同时相向移动</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">maxArea</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">height</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">left</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, right = </span><span style="color: #9CDCFE">height</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (left &lt; right) {</span></span>
<span class="line"><span style="color: #D4D4D4">            res = </span><span style="color: #9CDCFE">Math</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">max</span><span style="color: #D4D4D4">(res, (right - left) * </span><span style="color: #9CDCFE">Math</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">min</span><span style="color: #D4D4D4">(height[left], height[right]));</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (height[left] &lt; height[right])</span></span>
<span class="line"><span style="color: #D4D4D4">                ++left;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">else</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (height[left] &gt; height[right])</span></span>
<span class="line"><span style="color: #D4D4D4">                --right;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">else</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">                ++left;</span></span>
<span class="line"><span style="color: #D4D4D4">                --right;</span></span>
<span class="line"><span style="color: #D4D4D4">            }</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> res;</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="计算右侧小于当前元素的个数" tabindex="-1"><a class="header-anchor" href="#计算右侧小于当前元素的个数" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/count-of-smaller-numbers-after-self/" target="_blank" rel="noopener noreferrer">计算右侧小于当前元素的个数<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>给定整型数组<code v-pre>nums</code>，要求计算新数组<code v-pre>counts</code>，其中<code v-pre>counts[i]</code>的值是<code v-pre>nums[i]</code>右侧小于<code v-pre>nums[i]</code>的元素的数量</p>
</div>
<details class="hint-container details"><summary>详情</summary>
<p>可以转化为单点更新、区间查询型的离散化树状数组的应用。将原数组去重再排序并由此建立树状数组，从右至左遍历原数组的同时维护树状数组，并查询小于当前遍历值的所有数的数量和（因为是从右向左遍历的原数组，故树状数组中各值的数量即为当前遍历值右侧的数据）</p>
<p>还有基于归并排序变种的解法，见官方题解</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">List</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">Integer</span><span style="color: #D4D4D4">&gt; </span><span style="color: #DCDCAA">countSmaller</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">List</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">Integer</span><span style="color: #D4D4D4">&gt; </span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">ArrayList</span><span style="color: #D4D4D4">&lt;&gt;();</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">Set</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">Integer</span><span style="color: #D4D4D4">&gt; </span><span style="color: #9CDCFE">set</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">TreeSet</span><span style="color: #D4D4D4">&lt;&gt;();</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">n</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> nums)</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">set</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(n);</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">a</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[</span><span style="color: #9CDCFE">set</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">size</span><span style="color: #D4D4D4">()];</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">idx</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">n</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> set)</span></span>
<span class="line"><span style="color: #D4D4D4">            a[idx++] = n;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">c</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[</span><span style="color: #9CDCFE">a</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">];</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; i &gt;= </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; --i) {</span></span>
<span class="line"><span style="color: #D4D4D4">            idx = </span><span style="color: #9CDCFE">Arrays</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">binarySearch</span><span style="color: #D4D4D4">(a, nums[i]) + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">sum</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">j</span><span style="color: #D4D4D4"> = idx - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; j &gt; </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; j -= j &amp; -j)</span></span>
<span class="line"><span style="color: #D4D4D4">                sum += c[j];</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">res</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(sum);</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (; idx &lt; </span><span style="color: #9CDCFE">c</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">; idx += idx &amp; -idx)</span></span>
<span class="line"><span style="color: #D4D4D4">                c[idx] += </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">Collections</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">reverse</span><span style="color: #D4D4D4">(res);</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> res;</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="翻转对" tabindex="-1"><a class="header-anchor" href="#翻转对" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/reverse-pairs/" target="_blank" rel="noopener noreferrer">翻转对<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>求给定数组<code v-pre>nums</code>所含翻转对的数量，其中翻转对指满足<code v-pre>i &lt; j &amp;&amp; nums[i] &gt; 2*nums[j]</code>的索引对</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<p>求翻转对与归并排序过程十分契合，不断合并已排序子数组的过程中，可以顺便求出索引恰分别在左右子数组中的翻转对数量，而索引分布在同一子数组范围内的翻转对则在前一轮排序时已求出，故可借助整个归并排序过程逐渐求出所有翻转对。</p>
<p>在归并排序中合并两已升序排序的子数组过程中，设分别处于左右子数组的索引分别为<code v-pre>i</code>和<code v-pre>j</code>，本次待归并的总范围为<code v-pre>[left, right]</code>且<code v-pre>2*len == right-left+1</code>，右子数组起始索引为<code v-pre>left+len</code>，对于固定的<code v-pre>nums[i]</code>，在右侧维护最大的区间<code v-pre>[left+len, end)</code>，使得<code v-pre>end</code>处的元素为区间向右扩展遇到的首个不满足与<code v-pre>nums[i]</code>组成翻转对的元素，则对于<code v-pre>i</code>作为翻转对的左元素的情况来说，归并范围内本次需新增的数量为<code v-pre>end - (left + len)</code>，遍历左子数组中所有元素即可累加出所有新增翻转对数量，并且考虑到左右子数组的有序性，<code v-pre>end</code>在全过程随<code v-pre>i</code>单调不减。</p>
<p>本题还可用树状数组配合离散化来解，官方题解不好，可参考民间题解</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">reversePairs</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">cnt</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">tmp</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">new</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[</span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">];</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">len</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">; len &lt; </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">; len &lt;&lt;= </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">left</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; left &lt; </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> - len; left += len &lt;&lt; </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">right</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">Math</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">min</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">, left + (len &lt;&lt; </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">) - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = left; i &lt;= right; ++i)</span></span>
<span class="line"><span style="color: #D4D4D4">                    tmp[i] = nums[i];</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">l</span><span style="color: #D4D4D4"> = left, r = left + len;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">end</span><span style="color: #D4D4D4"> = r; </span><span style="color: #6A9955">// [r, end)</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = l; i &lt; r; ++i) {</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (end &lt;= right &amp;&amp; (</span><span style="color: #4EC9B0">long</span><span style="color: #D4D4D4">) tmp[i] &gt; (</span><span style="color: #4EC9B0">long</span><span style="color: #D4D4D4">) tmp[end] &lt;&lt; </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">                        ++end; </span><span style="color: #6A9955">// end 随 i 单调不减</span></span>
<span class="line"><span style="color: #D4D4D4">                    cnt += end - r; </span><span style="color: #6A9955">// end 最大是 right+1，恰表示开区间个数</span></span>
<span class="line"><span style="color: #D4D4D4">                }</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">i</span><span style="color: #D4D4D4"> = left; i &lt;= right; ++i) {</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (l == left + len)</span></span>
<span class="line"><span style="color: #D4D4D4">                        nums[i] = tmp[r++];</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #C586C0">else</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (r &gt; right || tmp[l] &lt;= tmp[r])</span></span>
<span class="line"><span style="color: #D4D4D4">                        nums[i] = tmp[l++];</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #C586C0">else</span></span>
<span class="line"><span style="color: #D4D4D4">                        nums[i] = tmp[r++];</span></span>
<span class="line"><span style="color: #D4D4D4">                }</span></span>
<span class="line"><span style="color: #D4D4D4">            }</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> cnt;</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="旋转数组" tabindex="-1"><a class="header-anchor" href="#旋转数组" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/rotate-array/" target="_blank" rel="noopener noreferrer">旋转数组<ExternalLinkIcon/></a></h3>
<div class="hint-container info">
<p class="hint-container-title">Description</p>
<p>将给定数组向右轮转<code v-pre>k</code>个位置</p>
</div>
<details class="hint-container details"><summary>Solution</summary>
<Tabs id="281" :data='[{"id":"多重翻转"},{"id":"环状替换"}]'>
<template #title0="{ value, isActive }">多重翻转</template>
<template #title1="{ value, isActive }">环状替换</template>
<template #tab0="{ value, isActive }">
<p>设<code v-pre>n</code>为数组长度，轮转<code v-pre>k</code>次后数组右侧的<code v-pre>k % n</code>个元素会移至左侧，而原本的其余元素会向右移动<code v-pre>k % n</code>个位置。故先翻转整个数组，使右侧的<code v-pre>k % n</code>个元素移到左侧，原左侧的其余元素移到右侧，但各自都是逆序的，再将两部分元素分别逆序即可</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">rotate</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">k</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        k %= </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (k != </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #DCDCAA">reverse</span><span style="color: #D4D4D4">(nums, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #DCDCAA">reverse</span><span style="color: #D4D4D4">(nums, </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">, k - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #DCDCAA">reverse</span><span style="color: #D4D4D4">(nums, k, </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">reverse</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">left</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">right</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (; left &lt; right; ++left, --right) {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">t</span><span style="color: #D4D4D4"> = nums[left];</span></span>
<span class="line"><span style="color: #D4D4D4">            nums[left] = nums[right];</span></span>
<span class="line"><span style="color: #D4D4D4">            nums[right] = t;</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></template>
<template #tab1="{ value, isActive }">
<p>题解见官方，补充解释见其评论</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Solution</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">void</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">rotate</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4">[] </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">k</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        k %= </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">count</span><span style="color: #D4D4D4"> = </span><span style="color: #DCDCAA">gcd</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">, k);</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">for</span><span style="color: #D4D4D4"> (</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">start</span><span style="color: #D4D4D4"> = </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">; start &lt; count; ++start) {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">curIdx</span><span style="color: #D4D4D4"> = start;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">pre</span><span style="color: #D4D4D4"> = nums[start];</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">do</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">nextIdx</span><span style="color: #D4D4D4"> = (curIdx + k) % </span><span style="color: #9CDCFE">nums</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">tmp</span><span style="color: #D4D4D4"> = nums[nextIdx];</span></span>
<span class="line"><span style="color: #D4D4D4">                nums[nextIdx] = pre;</span></span>
<span class="line"><span style="color: #D4D4D4">                pre = tmp;</span></span>
<span class="line"><span style="color: #D4D4D4">                curIdx = nextIdx;</span></span>
<span class="line"><span style="color: #D4D4D4">            } </span><span style="color: #C586C0">while</span><span style="color: #D4D4D4"> (curIdx != start);</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">gcd</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">x</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">int</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">y</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> y == </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">?</span><span style="color: #D4D4D4"> x </span><span style="color: #C586C0">:</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">gcd</span><span style="color: #D4D4D4">(y, x % y);</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></template>
</Tabs>
</details>
<!-- ------------------------------------------------------- -->
</div></template>


